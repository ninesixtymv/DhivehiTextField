var thaanaKeyboard={defaultKeyboard:"",className:"thaanaKeyboardInput",_transFrom:"qwertyuiop[]\\asdfghjkl;'zxcvbnm,./QWERTYUIOP{}|ASDFGHJKL:\"ZXCVBNM<>?()",_transToKbd:{phonetic:"ްއެރތޔުިޮޕ][\\ަސދފގހޖކލ؛'ޒ×ޗވބނމ،./ޤޢޭޜޓޠޫީޯ÷}{|ާށޑﷲޣޙޛޚޅ:\"ޡޘޝޥޞޏޟ><؟)(","phonetic-hh":"ޤަެރތޔުިޮޕ][\\އސދފގހޖކލ؛'ޒޝްވބނމ،./ﷲާޭޜޓޠޫީޯޕ}{|ޢށޑޟޣޙޛޚޅ:\"ޡޘޗޥޞޏމ><؟)(",typewriter:'ޫޮާީޭގރމތހލ[]ިުްަެވއނކފﷲޒޑސޔޅދބށޓޯ×’“/:ޤޜޣޠޙ÷{}<>.،"ޥޢޘޚޡ؛ޖޕޏޗޟޛޝ\\ޞ؟)('},init:function(){this.setHandlerByClass(this.className,"enable")},setHandlerByElement:function(e,t){switch(t){case"enable":e.onkeypress=this.handleKey;break;case"disable":e.onkeypress=null}},setHandlerById:function(e,t){var a=document.getElementById(e);this.setHandlerByElement(a,t)},setHandlerByClass:function(e,t){var a=new RegExp("\\b"+e+"\\b"),i=document.all||document.getElementsByTagName("*");for(n=0;n<i.length;n++)a.test(i[n].className)&&this.setHandlerByElement(i[n],t)},handleKey:function(e){if(!e)var e=window.event;if(null==e.which)keycode=e.keyCode;else{if(!(e.which>0))return!0;if(keycode=e.which,window.opera&&1==[45,46,35,36].indexOf(keycode))return!0}if(e.modifier)var t=e.modifiers&Event.CONTROL_MASK;else if(void 0!==e.ctrlKey)var t=e.ctrlKey;try{var a=thaanaKeyboard._transFrom.indexOf(String.fromCharCode(keycode));if(-1==a||t)return!0;var n=thaanaKeyboard.defaultKeyboard,o=document.getElementsByName(this.id+"_thaanaKeyboardState");if(o)for(i=0;i<o.length;i++)if("radio"==o[i].type||"checkbox"==o[i].type){if(1==o[i].checked){n=o[i].value;break}}else{if("select-one"==o[i].type){n=o[i].options[o[i].selectedIndex].value;break}if("hidden"==o[i].type||"text"==o[i].type){n=o[i].value;break}}var s=thaanaKeyboard._transToKbd[n].substr(a,1)}catch(e){return}"function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1;var r=this.scrollTop;if(this.selectionStart){var l=this.selectionStart+1;this.value=this.value.substring(0,this.selectionStart)+s+this.value.substring(this.selectionEnd,this.value.length),this.setSelectionRange(l,l),this.focus()}else document.selection?(sel=document.selection.createRange(),sel.text=s,this.focus()):this.value+=s;this.scrollTop=r}},old=window.onload?window.onload:function(){};window.onload=function(){old(),thaanaKeyboard.defaultKeyboard="phonetic",thaanaKeyboard.init()};